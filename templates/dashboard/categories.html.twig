{% extends "base.html.twig" %}

{% block body %}
	{{ include('./partials/header.html.twig') }}
	<div class="container mt-5">
		<div class="row justify-content-center">
			<div class="col-md-6">
				<h1 class="display-1">Gestion des catégories</h1>
				<table class="table table-striped table-hover">
					<tr>
						<th>Id</th>
						<th>Nom</th>
						<th>Créé le</th>
						<th>Modifié le</th>
						<th>Supprimé</th>
						<th>Actions</th>
					</tr>
					{% for categorie in categories %}
						<form action="{{ path('categories_edit') }}" method="post">
							<tr>
								<td>{{ categorie['id'] }}</td>
								<td>{{ categorie['nom'] }}</td>
								<td>{{ categorie['createdAt'] }}</td>
								<td>{{ categorie['updatedAt'] }}</td>
								<td>{{ categorie['deletedAt'] }}</td>
								<td>
									<button type="submit">Modifier</button>
									/
									<button type="submit" name="submitDelete" onclick="return confirm('Are you sure you want to delete this item?')">Supprimer</button>

									<input type="hidden" name="id" value="{{ categorie['id'] }}">
									<input type="hidden" name="nom" value="{{ categorie['nom'] }}">
									<input type="hidden" name="createdAt" value="{{ categorie['createdAt'] }}">
									<input type="hidden" name="updatedAt" value="{{ categorie['updatedAt'] }}">
									<input type="hidden" name="deletedAt" value="{{ categorie['deletedAt'] }}">
								</td>
							</tr>

						</form>
					{% endfor %}
				</table>
				<a href="{{ path('categories_add') }}" class="btn btn-primary mb-3">Ajouter une catégorie</a>

			</div>
		</div>
	</div>

	{{ include('./partials/footer.html.twig') }}
{% endblock %}
