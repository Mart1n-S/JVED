{% extends "base.html.twig" %}

{% block body %}
	{{ include('./partials/header.html.twig') }}
	<div class="container mt-5">
		<div class="row justify-content-center">
			<div class="col-md-6">
				<h1 class="display-1">Gestion des commentaires</h1>
				<table class="table table-striped table-hover">
					<tr>
						<th>Id</th>
						<th>Commentaire</th>
						<th>Auteur</th>
						<th>ID du topic</th>
						<th>Créé le</th>
						<th>Supprimé</th>
						<th>Actions</th>
					</tr>

					{% for content in contents %}
						<form action="{{ path('contents') }}" method="post">
							<tr>
								<td>{{ content['id'] }}</td>
								<td>{{ content['commentaire'] }}</td>
								<td>{{ content['auteur'] }}</td>
								<td>{{ content['topic'] }}</td>
								<td>{{ content['createdAt'] }}</td>
								<td>{{ content['deletedAt'] }}</td>
								<td>
									<button type="submit" name="submitDelete" onclick="return confirm('Are you sure you want to delete this item?')">Supprimer</button>

									<input type="hidden" name="id" value="{{ content['id'] }}">
									<input type="hidden" name="nom" value="{{ content['commentaire'] }}">
									<input type="hidden" name="auteur" value="{{ content['auteur'] }}">
									<input type="hidden" name="idTopic" value="{{ content['topic'] }}">
									<input type="hidden" name="createdAt" value="{{ content['createdAt'] }}">
									<input type="hidden" name="deletedAt" value="{{ content['deletedAt'] }}">
								</td>
							</tr>
						</form>
					{% endfor %}
				</table>
			</div>
		</div>
	</div>

	{{ include('./partials/footer.html.twig') }}
{% endblock %}
